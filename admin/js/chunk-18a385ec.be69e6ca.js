(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18a385ec"],{"0d00":function(e,t,a){},"5c4f":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("1bab");function r(){return Object(n["a"])({url:"/label/",method:"get"})}},"8a51":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-article"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/article"}}},[e._v("文章管理")]),a("el-breadcrumb-item",[e._v("添加文章")])],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"top-card"},[a("div",{staticClass:"article-title"},[a("span",[e._v("文章标题")]),a("el-input",{staticClass:"article-title-inp",attrs:{placeholder:"请输入内容"},model:{value:e.articleTitle,callback:function(t){e.articleTitle=t},expression:"articleTitle"}})],1),a("el-button",{staticClass:"save-btn",attrs:{type:"primary"},on:{click:e.saveArticle}},[e._v("保存")])],1)]),a("el-card",{staticClass:"box-card upload-card"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{"padding-right":"10px"}},[e._v("内容摘要")]),a("el-input",{staticStyle:{width:"88%"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.condec,callback:function(t){e.condec=t},expression:"condec"}})],1)]),a("div",{staticClass:"editor"},[a("mavon-editor",{ref:"md",style:{height:e.mdHeight},attrs:{toolbars:e.toolbars},on:{imgAdd:e.handleEditorImgAdd},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-card",{staticClass:"box-card upload-card"},[e._v(" 选择标签 "),a("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.labelList,(function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.name}})})),1)],1),a("el-card",{staticClass:"box-card upload-card"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.uploadMainImg,"on-remove":e.handleRemove,"file-list":e.fileList,"list-type":"picture",limit:1}},[e._v(" 上传主图 "),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)},r=[],c=(a("96cf"),a("1da1")),i=a("acd6"),l=a("b114"),o=a("5c4f"),s={name:"AddArticle",data:function(){return{toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0},value:"",articleTitle:"",dialogImageUrl:"",dialogVisible:!1,disabled:!1,mdHeight:"0px",fileList:[],mimetype:"",imgUrl:"",condec:"",labelList:[],checkList:[]}},methods:{changeMDHeight:function(){this.clientHeight=document.documentElement.clientHeight,this.mdHeight="".concat(this.clientHeight-410,"px")},uploadP:function(){},change:function(e,t){},handleEditorImgAdd:function(e,t){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new FormData,r.append("picture",t),n.next=4,Object(l["a"])(r);case 4:c=n.sent,console.log(c),a.$refs.md.$img2Url(e,c.imgUrl);case 7:case"end":return n.stop()}}),n)})))()},getAllLabels:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])();case 2:a=t.sent,console.log("标签"),e.labelList=a;case 5:case"end":return t.stop()}}),t)})))()},saveArticle:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.checkList),t.next=3,Object(i["d"])(e.articleTitle,e.condec,e.value,e.imgUrl,e.mimetype,e.checkList);case 3:a=t.sent,console.log(a),200==a.status?(e.$message({message:a.message,type:"success"}),e.$router.push("/article")):e.$message.error(a.message);case 6:case"end":return t.stop()}}),t)})))()},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e)},handleRemove:function(e,t){console.log(e,t)},uploadMainImg:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var n,r,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.file,r=new FormData,r.append("picture",n),a.next=5,Object(l["b"])(r);case 5:c=a.sent,t.imgUrl=c.imgUrl,t.mimetype=c.mimetype,console.log(c);case 9:case"end":return a.stop()}}),a)})))()}},created:function(){this.getAllLabels()},mounted:function(){this.changeMDHeight()}},u=s,d=(a("fd16"),a("2877")),m=Object(d["a"])(u,n,r,!1,null,"fed4e83c",null);t["default"]=m.exports},acd6:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return o}));var n=a("1bab");function r(){return Object(n["a"])({url:"/article/",method:"get"})}function c(e){return Object(n["a"])({url:"/article/".concat(e,"/getArticle"),method:"get"})}function i(e,t,a,r,c,i){return Object(n["a"])({url:"/article/save",method:"post",data:{title:e,condec:t,content:a,filename:r,mimetype:c,checkList:i}})}function l(e,t,a,r,c,i,l){return Object(n["a"])({url:"/article/update/".concat(e),method:"post",data:{title:t,content:r,condec:a,filename:c,mimetype:i,checkList:l}})}function o(e){return Object(n["a"])({url:"/article/deleteArticle/".concat(e),method:"post",data:{}})}},b114:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a("1bab");function r(e){return Object(n["a"])({url:"/upload/picture",method:"post",data:e})}function c(e,t){return Object(n["a"])({url:"/upload/picture/".concat(t),method:"post",data:e})}function i(e){return Object(n["a"])({url:"/upload/mainpicture/",method:"post",data:e})}},fd16:function(e,t,a){"use strict";a("0d00")}}]);
//# sourceMappingURL=chunk-18a385ec.be69e6ca.js.map