(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-18a385ec"],{"0d00":function(e,t,a){},"5c4f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("1bab");function n(){return Object(r.a)({url:"/label/",method:"get"})}},"8a51":function(e,t,a){"use strict";a.r(t),a("96cf");var r=a("1da1"),n=a("acd6"),c=a("b114"),i=a("5c4f"),l={name:"AddArticle",data:function(){return{toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,undo:!0,redo:!0,trash:!0,save:!0,navigation:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0,preview:!0},value:"",articleTitle:"",dialogImageUrl:"",dialogVisible:!1,disabled:!1,mdHeight:"0px",fileList:[],mimetype:"",imgUrl:"",condec:"",labelList:[],checkList:[]}},methods:{changeMDHeight:function(){this.clientHeight=document.documentElement.clientHeight,this.mdHeight="".concat(this.clientHeight-410,"px")},uploadP:function(){},change:function(e,t){},handleEditorImgAdd:function(e,t){var a=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("picture",t),r.next=4,Object(c.a)(n);case 4:n=r.sent,a.$refs.md.$img2Url(e,n.imgUrl);case 7:case"end":return r.stop()}}),r)})))()},getAllLabels:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)();case 2:a=t.sent,e.labelList=a;case 5:case"end":return t.stop()}}),t)})))()},saveArticle:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,Object(n.d)(e.articleTitle,e.condec,e.value,e.imgUrl,e.mimetype,e.checkList);case 3:200==(a=t.sent).status?(e.$message({message:a.message,type:"success"}),e.$router.push("/article")):e.$message.error(a.message);case 6:case"end":return t.stop()}}),t)})))()},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){},handleRemove:function(e,t){},uploadMainImg:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.file,(n=new FormData).append("picture",r),a.next=5,Object(c.b)(n);case 5:n=a.sent,t.imgUrl=n.imgUrl,t.mimetype=n.mimetype;case 9:case"end":return a.stop()}}),a)})))()}},created:function(){this.getAllLabels()},mounted:function(){this.changeMDHeight()}};a("fd16"),a=a("2877"),l=Object(a.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-article"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/article"}}},[e._v("文章管理")]),a("el-breadcrumb-item",[e._v("添加文章")])],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"top-card"},[a("div",{staticClass:"article-title"},[a("span",[e._v("文章标题")]),a("el-input",{staticClass:"article-title-inp",attrs:{placeholder:"请输入内容"},model:{value:e.articleTitle,callback:function(t){e.articleTitle=t},expression:"articleTitle"}})],1),a("el-button",{staticClass:"save-btn",attrs:{type:"primary"},on:{click:e.saveArticle}},[e._v("保存")])],1)]),a("el-card",{staticClass:"box-card upload-card"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{"padding-right":"10px"}},[e._v("内容摘要")]),a("el-input",{staticStyle:{width:"88%"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.condec,callback:function(t){e.condec=t},expression:"condec"}})],1)]),a("div",{staticClass:"editor"},[a("mavon-editor",{ref:"md",style:{height:e.mdHeight},attrs:{toolbars:e.toolbars},on:{imgAdd:e.handleEditorImgAdd},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("el-card",{staticClass:"box-card upload-card"},[e._v(" 选择标签 "),a("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.labelList,(function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.name}})})),1)],1),a("el-card",{staticClass:"box-card upload-card"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","http-request":e.uploadMainImg,"on-remove":e.handleRemove,"file-list":e.fileList,"list-type":"picture",limit:1}},[e._v(" 上传主图 "),a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)}),[],!1,null,"fed4e83c",null);t.default=l.exports},acd6:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return o}));var r=a("1bab");function n(){return Object(r.a)({url:"/article/",method:"get"})}function c(e){return Object(r.a)({url:"/article/".concat(e,"/getArticle"),method:"get"})}function i(e,t,a,n,c,i){return Object(r.a)({url:"/article/save",method:"post",data:{title:e,condec:t,content:a,filename:n,mimetype:c,checkList:i}})}function l(e,t,a,n,c,i,l){return Object(r.a)({url:"/article/update/".concat(e),method:"post",data:{title:t,content:n,condec:a,filename:c,mimetype:i,checkList:l}})}function o(e){return Object(r.a)({url:"/article/deleteArticle/".concat(e),method:"post",data:{}})}},b114:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i}));var r=a("1bab");function n(e){return Object(r.a)({url:"/upload/picture",method:"post",data:e})}function c(e,t){return Object(r.a)({url:"/upload/picture/".concat(t),method:"post",data:e})}function i(e){return Object(r.a)({url:"/upload/mainpicture/",method:"post",data:e})}},fd16:function(e,t,a){"use strict";a("0d00")}}]);